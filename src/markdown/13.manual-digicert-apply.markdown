# Nicepay API 2.0 - G2 ì¸ì¦ì„œ ë³€ê²½ ê°€ì´ë“œ
- https://developers.nicepay.co.kr/manual-digicert-apply.php

## ê°œìš”
ì´ ê°€ì´ë“œëŠ” NICEPAY ê²°ì œ ì‹œìŠ¤í…œì—ì„œ ë””ì§€í„¸ ì¸ì¦ì„œ(Digital Certificate)ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
ë‚˜ì´ìŠ¤í˜ì´ë¨¼ì¸ ì—ì„œ í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ ë³´ì•ˆ ì¸ì¦ì„œ(DigiCert Global Root CA)ì˜ ë§Œë£Œ ë° ë³´ì•ˆ ì •ì±… ê°•í™”ì— ë”°ë¼ 'DigiCert Global Root G2' ì¸ì¦ì„œë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
ì´ì— ë”°ë¼ ê°€ë§¹ì ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ì¦ì„œê°€ êµ¬ë²„ì „ ì¸ì¦ì„œ(CA)ì¸ ê²½ìš° í†µì‹ ì´ ì‹¤íŒ¨í•˜ì—¬ ê²°ì œê°€ ì§„í–‰ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë””ì§€í„¸ ì¸ì¦ì„œëŠ” ë³´ì•ˆ í†µì‹ ì„ ë³´ì¥í•˜ê³  ë°ì´í„° ìœ„ë³€ì¡°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì ì…ë‹ˆë‹¤. ë³¸ ë¬¸ì„œëŠ” SSL/TLS ì¸ì¦ì„œ ì„¤ì •, API í˜¸ì¶œ í™˜ê²½ êµ¬ì„±, ê·¸ë¦¬ê³  ì¸ì¦ì„œ ê´€ë ¨ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

## ì¤€ë¹„ì‚¬í•­
- **ê°€ë§¹ì  ê´€ë¦¬ì ê³„ì •**: NICEPAY ê°€ë§¹ì  ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ í´ë¼ì´ì–¸íŠ¸ í‚¤ì™€ ì‹œí¬ë¦¿ í‚¤ë¥¼ ë°œê¸‰ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
- **SSL/TLS ì¸ì¦ì„œ**: ìœ íš¨í•œ SSL/TLS ì¸ì¦ì„œë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
- **ì„œë²„ í™˜ê²½**: HTTPS í†µì‹ ì´ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„(TLS 1.2 ì´ìƒ ì§€ì›).
- **ë°©í™”ë²½ ì„¤ì •**: NICEPAY API í˜¸ì¶œì„ ìœ„í•´ í•„ìš”í•œ IPì™€ í¬íŠ¸(ì˜ˆ: 121.133.126.56:443, 211.47.33.56:443)ë¥¼ ë°©í™”ë²½ì—ì„œ í—ˆìš©.[](https://developers.nicepay.co.kr/manual-pc.php)

### ë°©í™”ë²½ ì„¤ì • í™•ì¸
```bash
#### ê²°ì œì°½
nslookup web.nicepay.co.kr
telnet 211.33.136.86 80
telnet 211.33.136.86 443

nslookup pg-web.nicepay.co.kr
telnet 121.133.126.46 80
telnet 121.133.126.46 443

nslookup dc1-web.nicepay.co.kr
telnet 121.133.126.46 80
telnet 121.133.126.46 443

nslookup dc2-web.nicepay.co.kr
telnet 211.44.32.46 80
telnet 211.44.32.46 443

#### WEBAPI
nslookup webapi.nicepay.co.kr
telnet 121.133.126.56 80
telnet 121.133.126.56 443

nslookup pg-api.nicepay.co.kr
telnet 121.133.126.56 80
telnet 121.133.126.56 443

nslookup pg-pay.nicepay.co.kr
telnet 121.133.126.56 80
telnet 121.133.126.56 443

nslookup dc1-api.nicepay.co.kr
telnet 121.133.126.56 80
telnet 121.133.126.56 443

nslookup dc2-api.nicepay.co.kr
telnet 211.44.32.56 80
telnet 211.44.32.56 443


#### ëŒ€ì‚¬
nslookup pg.nicepay.co.kr
telnet 121.133.126.47 80
telnet 121.133.126.47 443

nslookup data.nicepay.co.kr
telnet 121.133.126.34 80
telnet 121.133.126.34 443

#### ë¹„ëŒ€ë©´ (ForStart)
nslookup pay.nicepay.co.kr
telnet 121.133.126.85 80
telnet 121.133.126.85 443

nslookup api.nicepay.co.kr
telnet 121.133.126.83 80
telnet 121.133.126.83 443

nslookup sandbox-pay.nicepay.co.kr
telnet 121.133.126.84 80
telnet 121.133.126.84 443

nslookup sandbox-api.nicepay.co.kr
telnet 121.133.126.84 80
telnet 121.133.126.84 443

#### ìê¸ˆì´ì²´, ê³„ì¢Œì ìœ ì¸ì¦ ë“± ì„œë¹„ìŠ¤
nslookup service-api.nicepay.co.kr
telnet 121.133.126.81 80
telnet 121.133.126.81 443
```
> **ì°¸ê³ **: ë°©í™”ë²½ ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. SSL ì¸ì¦ì„œê°€ ì—†ê±°ë‚˜ ë§Œë£Œëœ ê²½ìš° API í˜¸ì¶œì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.[](https://developers.nicepay.co.kr/manual-pc.php)

## ë””ì§€í„¸ ì¸ì¦ì„œ ì ìš© ì ˆì°¨

### 1. ğŸ“¥ ì¸ì¦ì„œ ì„¤ì¹˜
1. **ì¸ì¦ì„œ ë‹¤ìš´ë¡œë“œ**
  - DigiCert Global Root G2 ì¸ì¦ì„œëŠ” ë‹¤ìŒ URLì—ì„œ ë‚´ë ¤ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:  
  `https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem`

2. **ì„œë²„ì— ì¸ì¦ì„œ ì„¤ì¹˜**:
   - ì›¹ ì„œë²„(ì˜ˆ: Apache, Nginx)ì— ì¸ì¦ì„œ íŒŒì¼(.crt)ê³¼ ê°œì¸ í‚¤(.key)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
   - ì¤‘ê°„ ì¸ì¦ì„œ(Intermediate CA)ê°€ í•„ìš”í•œ ê²½ìš° í•¨ê»˜ ì„¤ì¹˜í•©ë‹ˆë‹¤.
   - ì˜ˆ: Apache ì„¤ì •
     ```apache
     SSLCertificateFile /ì¸ì¦ì„œ ê²½ë¡œ/your_domain.crt
     SSLCertificateKeyFile /ì¸ì¦ì„œ ê²½ë¡œ/your_domain.key
     SSLCertificateChainFile /ì¸ì¦ì„œ ê²½ë¡œ/intermediate.crt
     ```
3. **HTTPS í™œì„±í™”**: ì„œë²„ì—ì„œ 443 í¬íŠ¸ë¥¼ ì—´ê³  HTTPS í”„ë¡œí† ì½œì„ í™œì„±í™”í•©ë‹ˆë‹¤.

## ğŸ›  ì–¸ì–´ë³„ ì„¤ì¹˜ ë°©ë²•

### Java (JDK ì‚¬ìš©)

1. ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸:
   ```bash
   keytool -list -v -keystore $JAVA_HOME/jre/lib/security/cacerts | grep "DigiCert Global Root G2"
   ```
2. ìˆ˜ë™ ì„¤ì¹˜:
   ```bash
   keytool -importcert      -keystore $JAVA_HOME/jre/lib/security/cacerts      -storepass [íŒ¨ìŠ¤ì›Œë“œ]      -trustcacerts      -alias digicert_global_root_g2      -file [ê²½ë¡œ]/DigiCertGlobalRootG2.crt.pem      -noprompt
   ```
3. ì¬í™•ì¸: 1ë²ˆ ëª…ë ¹ì–´ ë°˜ë³µ ì‹¤í–‰

### PHP

- `php.ini`ì—ì„œ `curl.cainfo` ë˜ëŠ” `openssl.cafile`ì— `.pem` ê²½ë¡œ ì§€ì •
- ë˜ëŠ” PHP ì½”ë“œ ë‚´ `CURLOPT_CAINFO` ì‚¬ìš©

### Node.js

- `https.request` ì‹œ `ca` ì˜µì…˜ ì§€ì •
- ë˜ëŠ” ì‹œìŠ¤í…œì— G2 ì¸ì¦ì„œë¥¼ ì¶”ê°€

## ğŸ–¥ OS ë° ë¸Œë¼ìš°ì € ì„¤ì¹˜ ê°€ì´ë“œ

### Linux (CentOS / Ubuntu ë“±)

- CentOS/RHEL: `/etc/pki/ca-trust/source/anchors/`ì— `.crt` ë³µì‚¬ í›„ `update-ca-trust extract`
- Ubuntu: `/usr/local/share/ca-certificates/`ì— `.crt` ë³µì‚¬ í›„ `update-ca-certificates`

### Windows

- `certmgr.msc` ì‹¤í–‰ í›„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë£¨íŠ¸ ì¸ì¦ê¸°ê´€ì— ë“±ë¡

## ğŸ” ì°¸ê³  ì‚¬í•­

- JDK 1.8.0_361 ì´ìƒì€ ê¸°ë³¸ í¬í•¨
- JDK 1.7 ì´í•˜ ë° íì‡„ë§ í™˜ê²½ì€ ìˆ˜ë™ ì„¤ì¹˜ í•„ìˆ˜
- ë¸Œë¼ìš°ì € í˜¸í™˜ì„±: IE/Edge/Chrome (Windows), macOS X 10.10+, Firefox 32+, Android 5.0+ ë“±

## âœ… ìš”ì•½

| í•­ëª©          | ë‚´ìš©                                   |
|--------------|----------------------------------------|
| ì¸ì¦ì„œ        | DigiCert Global Root G2                |
| ë‹¤ìš´ë¡œë“œ URL  | https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem |
| ì„¤ì¹˜ ëŒ€ìƒ     | Java, PHP, Node.js, OS                 |
| ì£¼ì˜ì‚¬í•­      | JDK/Node ë²„ì „, íì‡„ë§ í™˜ê²½ ê³ ë ¤ í•„ìš”       |
